{"mappings":"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","sources":["<anon>","src/index.js","src/js/render-page.js","src/js/services/getProductsApi.js","src/js/productsLayout.js","src/js/deletingProducts.js","src/js/services/deleteProductApi.js","src/js/modal/edit-product-modal.js","src/js/services/editProductApi.js","src/js/modal/add-product-modal.js","src/js/modal/get-product-data-to-add.js","src/js/services/addProducrApi.js"],"sourcesContent":["const $c2e5bc3d345f2428$export$e0e19e1dac946400 = async ()=>{\n    let response;\n    try {\n        response = await fetch('https://67a727f0510789ef0dfd2245.mockapi.io/movies/products').then((data)=>data.json());\n    } catch (error) {\n        response = error;\n    }\n    return response;\n};\n\n\nconst $1ee6d3d4929f87d3$var$productsList = document.querySelector('.products-list');\nconst $1ee6d3d4929f87d3$export$24783e9f3a24abe4 = (productsData)=>{\n    const markup = productsData.map((obj)=>`<li class=\"product-item\" data-id=\"${obj.id}\">\n            <p class=\"product-name\">${obj.name}</p>\n            <p class=\"product-price\">${obj.price}</p>\n            <p class=\"product-sort\">${obj.description}</p>\n            <img src=\"${obj.image}\" class=\"product-img\"></img>\n<button class=\"edit-btn\">\n  <span class=\"transition\"></span>\n  <span class=\"gradient\"></span>\n  <span class=\"label\">Edit</span>\n</button>\n<button class=\"delete-btn\">\n  <span class=\"transition\"></span>\n  <span class=\"gradient\"></span>\n  <span class=\"label\">Delete</span>\n</button>\n        </li>`).join('');\n    $1ee6d3d4929f87d3$var$productsList.innerHTML = markup;\n};\n\n\nconst $8744192b7cd8794d$export$f5b6283dee38c0b4 = async (id)=>{\n    try {\n        return await fetch(`https://67a727f0510789ef0dfd2245.mockapi.io/movies/products/${id}`, {\n            method: \"DELETE\"\n        }).then((data)=>data.json());\n    } catch (error) {\n        console.log(error.message);\n    }\n};\n\n\n\n\nconst $9bf7e6df682ba6d3$export$d53f47fb7a4ccc5c = async (data, editedProductId)=>{\n    try {\n        return await fetch(`https://67a727f0510789ef0dfd2245.mockapi.io/movies/products/${editedProductId}`, {\n            method: \"PUT\",\n            body: JSON.stringify(data),\n            headers: {\n                \"Content-Type\": \"application/json; charset=UTF-8\"\n            }\n        }).then((response)=>response.json());\n    } catch (error) {\n        console.log(error.message);\n    }\n};\n\n\n\n\n\nconst $7d56f410106ff349$export$a7f6cffb6b8ba11c = ()=>{\n    const editBtnArr = document.querySelectorAll(\".edit-btn\");\n    let parentId;\n    editBtnArr.forEach((editBtn)=>{\n        editBtn.addEventListener(\"click\", (e)=>{\n            document.querySelector(\".edit-modal\").classList.remove(\"is-hidden\");\n            parentId = e.target.closest(\".product-item\").dataset.id;\n        });\n    });\n    const formEl = document.querySelector(\".edit-form__info\");\n    const modalEditEl = document.querySelector(\".edit-modal\");\n    formEl.addEventListener(\"submit\", async (e)=>{\n        e.preventDefault();\n        modalEditEl.classList.add(\"is-hidden\");\n        const productDataToEdit = {\n            name: `${formEl.elements.name.value}`,\n            price: `${formEl.elements.price.value}`,\n            description: `${formEl.elements.description.value}`,\n            img: `${formEl.elements.img.value}`\n        };\n        await (0, $9bf7e6df682ba6d3$export$d53f47fb7a4ccc5c)(productDataToEdit, parentId).then((post)=>console.log(post));\n        await (0, $c2e5bc3d345f2428$export$e0e19e1dac946400)().then((data)=>{\n            (0, $1ee6d3d4929f87d3$export$24783e9f3a24abe4)(data);\n            (0, $1b45738fa6cd1729$export$297029b54a55ef2d)();\n            $7d56f410106ff349$export$a7f6cffb6b8ba11c();\n        });\n    });\n    const editModalClose = document.querySelector(\".close-edit-modal\");\n    editModalClose.addEventListener(\"click\", ()=>{\n        document.querySelector(\".edit-modal\").classList.add(\"is-hidden\");\n    });\n};\n\n\nconst $1b45738fa6cd1729$export$297029b54a55ef2d = ()=>{\n    const deleteBtnArr = document.querySelectorAll('.delete-btn');\n    deleteBtnArr.forEach((deleteBtn)=>{\n        deleteBtn.addEventListener('click', async ()=>{\n            await (0, $8744192b7cd8794d$export$f5b6283dee38c0b4)(deleteBtn.parentElement.id).then((data)=>data);\n            await (0, $c2e5bc3d345f2428$export$e0e19e1dac946400)().then((data)=>{\n                (0, $1ee6d3d4929f87d3$export$24783e9f3a24abe4)(data);\n                $1b45738fa6cd1729$export$297029b54a55ef2d();\n                (0, $7d56f410106ff349$export$a7f6cffb6b8ba11c)();\n            });\n        });\n    });\n};\n\n\n\n(0, $c2e5bc3d345f2428$export$e0e19e1dac946400)().then((data)=>{\n    (0, $1ee6d3d4929f87d3$export$24783e9f3a24abe4)(data);\n    (0, $1b45738fa6cd1729$export$297029b54a55ef2d)();\n    (0, $7d56f410106ff349$export$a7f6cffb6b8ba11c)();\n});\n\n\n\n\nconst $0d885fdce11b96e6$var$openModalBtn = document.querySelector('.open-modal');\nconst $0d885fdce11b96e6$var$modalCloseBtn = document.querySelector('.close-modal');\nconst $0d885fdce11b96e6$var$modalEl = document.querySelector('.modal');\n$0d885fdce11b96e6$var$openModalBtn.addEventListener('click', (e)=>{\n    e.preventDefault();\n    $0d885fdce11b96e6$var$modalEl.classList.remove('is-hidden');\n});\n$0d885fdce11b96e6$var$modalCloseBtn.addEventListener('click', (e)=>{\n    e.preventDefault();\n    $0d885fdce11b96e6$var$modalEl.classList.add('is-hidden');\n});\n\n\nconst $45b6ff93bd7c5a92$export$f571875d1799b8ad = async (addData)=>{\n    try {\n        return await fetch(\"https://67a727f0510789ef0dfd2245.mockapi.io/movies/products\", {\n            method: \"POST\",\n            body: JSON.stringify(addData),\n            headers: {\n                \"Content-Type\": \"application/json; charset=UTF-8\"\n            }\n        }).then((data)=>data.json());\n    } catch (error) {\n        console.log(error);\n    }\n};\n\n\n\n\n\n\nconst $8ef3b6d40ce703b0$var$formEl = document.querySelector('.form-info');\nconst $8ef3b6d40ce703b0$var$modalEl = document.querySelector('.modal');\n$8ef3b6d40ce703b0$var$formEl.addEventListener('submit', async (e)=>{\n    e.preventDefault();\n    $8ef3b6d40ce703b0$var$modalEl.classList.add('is-hidden');\n    const productDataToAdd = {\n        name: `${$8ef3b6d40ce703b0$var$formEl.elements.name.value}`,\n        price: `${$8ef3b6d40ce703b0$var$formEl.elements.price.value}`,\n        description: `${$8ef3b6d40ce703b0$var$formEl.elements.description.value}`,\n        img: `${$8ef3b6d40ce703b0$var$formEl.elements.img.value}`\n    };\n    await (0, $45b6ff93bd7c5a92$export$f571875d1799b8ad)(productDataToAdd).then((data)=>data);\n    await (0, $c2e5bc3d345f2428$export$e0e19e1dac946400)().then((data)=>{\n        (0, $1ee6d3d4929f87d3$export$24783e9f3a24abe4)(data);\n        (0, $1b45738fa6cd1729$export$297029b54a55ef2d)();\n        (0, $7d56f410106ff349$export$a7f6cffb6b8ba11c)();\n    });\n});\n\n\n\n\n\n\n\n\n//# sourceMappingURL=index.c68320e2.js.map\n","import \"./js/render-page\"\nimport \"./js/services/getProductsApi\"\nimport \"./js/productsLayout\"\nimport \"./js/modal/add-product-modal\"\nimport \"./js/modal/get-product-data-to-add\"\nimport \"./js/services/addProducrApi\"\nimport \"./js/services/deleteProductApi\"\nimport \"./js/deletingProducts\"\nimport \"./js/modal/edit-product-modal\"","import {getProductsAPI} from './services/getProductsApi'\nimport {createMarkup} from \"./productsLayout\"\nimport { deleteProduct } from \"./deletingProducts\";\nimport { openModal } from \"./modal/edit-product-modal\";\n\ngetProductsAPI().then(data=>{createMarkup(data); deleteProduct(); openModal()})","export const getProductsAPI = async ()=>{\n    let response\n    try{\n     response = await fetch('https://67a727f0510789ef0dfd2245.mockapi.io/movies/products').then(data=> data.json())\n    } catch(error) {\n       response = error\n    }\n    return response\n}","const productsList = document.querySelector('.products-list')\n\nexport const createMarkup = (productsData)=>{\n    const markup = productsData.map(obj=>\n        `<li class=\"product-item\" data-id=\"${obj.id}\">\n            <p class=\"product-name\">${obj.name}</p>\n            <p class=\"product-price\">${obj.price}</p>\n            <p class=\"product-sort\">${obj.description}</p>\n            <img src=\"${obj.image}\" class=\"product-img\"></img>\n<button class=\"edit-btn\">\n  <span class=\"transition\"></span>\n  <span class=\"gradient\"></span>\n  <span class=\"label\">Edit</span>\n</button>\n<button class=\"delete-btn\">\n  <span class=\"transition\"></span>\n  <span class=\"gradient\"></span>\n  <span class=\"label\">Delete</span>\n</button>\n        </li>`\n    ).join('')\n    productsList.innerHTML = markup\n}","import { deleteProductApi } from \"./services/deleteProductApi\"\nimport { getProductsAPI } from \"./services/getProductsApi\"\nimport {createMarkup} from \"./productsLayout\"\n// import { deleteProduct } from \"./deletingProducts\";\nimport { openModal } from \"./modal/edit-product-modal\";\nexport const deleteProduct = () =>{\n    const deleteBtnArr = document.querySelectorAll('.delete-btn')\n    deleteBtnArr.forEach(deleteBtn => {\n        deleteBtn.addEventListener('click', async ()=>{\n            await deleteProductApi(deleteBtn.parentElement.id).then(data => data)\n            await getProductsAPI().then(data=>{createMarkup(data); deleteProduct(); openModal()}) \n        })\n    })\n}","export const deleteProductApi = async (id) => {\n  try {\n  return await fetch(`https://67a727f0510789ef0dfd2245.mockapi.io/movies/products/${id}`, {\n    method: \"DELETE\",\n  }).then((data) => data.json())\n}\ncatch (error) {\n  console.log(error.message);\n  }\n};\n","import { editProductApi } from \"../services/editProductApi\";\nimport { getProductsAPI } from \"../services/getProductsApi\";\nimport { createMarkup } from \"../productsLayout\";\nimport { deleteProduct } from \"../deletingProducts\";\n\nexport const openModal = () => {\n  const editBtnArr = document.querySelectorAll(\".edit-btn\");\n  let parentId;\n  editBtnArr.forEach((editBtn) => {\n    editBtn.addEventListener(\"click\", (e) => {\n      document.querySelector(\".edit-modal\").classList.remove(\"is-hidden\");\n      parentId = e.target.closest(\".product-item\").dataset.id;\n    });\n  });\n  const formEl = document.querySelector(\".edit-form__info\");\n  const modalEditEl = document.querySelector(\".edit-modal\");\n\n  formEl.addEventListener(\"submit\", async (e) => {\n    e.preventDefault();\n    modalEditEl.classList.add(\"is-hidden\");\n    const productDataToEdit = {\n      name: `${formEl.elements.name.value}`,\n      price: `${formEl.elements.price.value}`,\n      description: `${formEl.elements.description.value}`,\n      img: `${formEl.elements.img.value}`,\n    };\n    await editProductApi(productDataToEdit, parentId).then((post) =>\n      console.log(post)\n    );\n    await getProductsAPI().then((data) => {\n      createMarkup(data);\n      deleteProduct();\n      openModal();\n    });\n  });\n  const editModalClose = document.querySelector(\".close-edit-modal\");\n  editModalClose.addEventListener(\"click\", () => {\n    document.querySelector(\".edit-modal\").classList.add(\"is-hidden\");\n  });\n};\n","export const editProductApi = async (data, editedProductId) => {\n  try {\n    return await fetch(`https://67a727f0510789ef0dfd2245.mockapi.io/movies/products/${editedProductId}`, {\n      method: \"PUT\",\n      body: JSON.stringify(data),\n      headers: {\n        \"Content-Type\": \"application/json; charset=UTF-8\",\n      },\n    })\n      .then((response) => response.json())\n  } catch (error) {\n    console.log(error.message);\n  }\n};\n","const openModalBtn = document.querySelector('.open-modal')\nconst modalCloseBtn = document.querySelector('.close-modal')\nconst modalEl = document.querySelector('.modal')\n\nopenModalBtn.addEventListener('click', (e) =>{\n    e.preventDefault()\n    modalEl.classList.remove('is-hidden')\n})\nmodalCloseBtn.addEventListener('click',(e)=>{\n    e.preventDefault()\n    modalEl.classList.add('is-hidden')\n})","import { addProductApi } from \"../services/addProducrApi\"\nimport { getProductsAPI } from \"../services/getProductsApi\"\nimport {createMarkup} from \"../productsLayout\"\nimport { deleteProduct } from \"../deletingProducts\";\nimport { openModal } from \"../modal/edit-product-modal\";\n\nconst formEl = document.querySelector('.form-info')\nconst modalEl = document.querySelector('.modal')\n\nformEl.addEventListener('submit', async (e) => {\n    e.preventDefault()\n    modalEl.classList.add('is-hidden')\n    const productDataToAdd = {\n        name: `${formEl.elements.name.value}`,\n        price: `${formEl.elements.price.value}`,\n        description: `${formEl.elements.description.value}`,\n        img: `${formEl.elements.img.value}`,\n    }\n    await addProductApi(productDataToAdd).then((data) => data)   \n    await getProductsAPI().then(data=>{createMarkup(data); deleteProduct(); openModal()}) \n})","export const addProductApi = async (addData) => {\n  try {\n    return await fetch(\"https://67a727f0510789ef0dfd2245.mockapi.io/movies/products\", {\n      method: \"POST\",\n      body: JSON.stringify(addData),\n      headers: {\n        \"Content-Type\": \"application/json; charset=UTF-8\",\n      },\n    })\n      .then((data) => data.json())\n  } catch (error) {\n    console.log(error);\n  }\n};"],"names":["$c2e5bc3d345f2428$export$e0e19e1dac946400","response","fetch","then","data","json","error","$1ee6d3d4929f87d3$var$productsList","document","querySelector","$1ee6d3d4929f87d3$export$24783e9f3a24abe4","productsData","markup","map","obj","id","name","price","description","image","join","innerHTML","$8744192b7cd8794d$export$f5b6283dee38c0b4","method","console","log","message","$9bf7e6df682ba6d3$export$d53f47fb7a4ccc5c","editedProductId","body","JSON","stringify","headers","$7d56f410106ff349$export$a7f6cffb6b8ba11c","parentId","editBtnArr","querySelectorAll","forEach","editBtn","addEventListener","e","classList","remove","target","closest","dataset","formEl","modalEditEl","preventDefault","add","productDataToEdit","elements","value","img","post","editModalClose","$1b45738fa6cd1729$export$297029b54a55ef2d","deleteBtnArr","deleteBtn","parentElement","$0d885fdce11b96e6$var$openModalBtn","$0d885fdce11b96e6$var$modalCloseBtn","$0d885fdce11b96e6$var$modalEl","$45b6ff93bd7c5a92$export$f571875d1799b8ad","addData","$8ef3b6d40ce703b0$var$formEl","$8ef3b6d40ce703b0$var$modalEl","productDataToAdd"],"version":3,"file":"index.c68320e2.js.map"}